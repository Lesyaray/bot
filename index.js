const TelegramBot = require('node-telegram-bot-api');

// –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω
const TOKEN = '7331912840:AAGWBCnjmn0XPlQJ0-OH--rbnglCKdRGdL8';

// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞
const bot = new TelegramBot(TOKEN, { polling: true });

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
bot.onText(/\/start/, (msg) => {
    const chatId = msg.chat.id;
    const text = `–ü—Ä–∏–≤–µ—Ç, —è –±–æ—Ç-–ü–æ–ª–∏–Ω–∞, –í—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –∑–∞–º–µ—á–∞–ª–∏ —è—Ä–∫–∏—Ö –ª—é–¥–µ–π –≤ –∂–µ–ª—Ç–æ–π –æ–¥–µ–∂–¥–µ –Ω–∞ —É–ª–∏—Ü–∞—Ö —Å–≤–æ–µ–≥–æ –≥–æ—Ä–æ–¥–∞ –æ–Ω–∏ –Ω–µ—Å—É—Ç —Ä–∞–¥–æ—Å—Ç—å –ª—é–¥—è–º: –∞—Ä–æ–º–∞—Ç–Ω—É—é –ø–∏—Ü—Ü—É, –≤–∫—É—Å–Ω—ã–µ —Ä–æ–ª–ª—ã –∏ —Å–æ—á–Ω—ã–µ –±—É—Ä–≥–µ—Ä—ã!üçî 
–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –ø–∞—Ä—Ç–Ω–µ—Ä—É —Å–µ—Ä–≤–∏—Å–∞ –Ø–Ω–¥–µ–∫—Å.–ï–¥–∞ –∏ –Ω–µ—Å–∏—Ç–µ —Å—á–∞—Å—Ç—å–µ –ª—é–¥—è–º! üòä
–ù–∞—á–Ω–∏—Ç–µ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞–∫–∞–∑—ã –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!üí∏`;

    const options = {
        reply_markup: {
            inline_keyboard: [
                [{ text: '–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –≤–∞–∫–∞–Ω—Å–∏–∏üßê', callback_data: 'button1' }]
            ]
        }
    };

    bot.sendMessage(chatId, text, options);
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
bot.on('callback_query', (callbackQuery) => {
    const chatId = callbackQuery.message.chat.id;

    if (callbackQuery.data === 'button1') {
        const text = `–ü–∞—Ä—Ç–Ω–µ—Ä —Å–µ—Ä–≤–∏—Å–∞ –Ø–Ω–¥–µ–∫—Å.–ï–¥–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ç–µ–±–µ —Å—Ç–∞—Ç—å –∫—É—Ä—å–µ—Ä–æ–º!
–î–ª—è —ç—Ç–æ–≥–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ—Ç—å –≥–∞–¥–∂–µ—Ç –Ω–∞ –±–∞–∑–µ Android –∏–ª–∏ iOS –∏ –∂–µ–ª–∞–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç—å –¥–æ 3400 —Ä—É–±–ª–µ–π –≤ –¥–µ–Ω—å!üí∏
–ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–µ—à–∫–æ–º, –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ, –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ –∏ —Å–∞–º–æ–∫–∞—Ç–µ.
–ß—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º?üßê
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ª–æ–∫–∞—Ü–∏–π –¥–æ—Å—Ç–∞–≤–æ–∫
‚úÖ –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–æ–∫
‚úÖ –ü–µ—Ä–≤–∞—è –≤—ã–ø–ª–∞—Ç–∞ –ø–æ—Å—Ç—É–ø–∞–µ—Ç —á–µ—Ä–µ–∑ –¥–≤–µ –Ω–µ–¥–µ–ª–∏, –¥–∞–ª–µ–µ –¥–ª—è —Å–∞–º–æ–∑–∞–Ω—è—Ç—ã—Ö, –≤—ã–ø–ª–∞—Ç—ã –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ 

–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –ø–∞—Ä—Ç–Ω–µ—Ä—É —Å–µ—Ä–≤–∏—Å–∞ –Ø–Ω–¥–µ–∫—Å –ï–¥–∞, –∂–¥–µ–º —Ç–µ–±—è!

`;

        const options = {
            reply_markup: {
                inline_keyboard: [
                    [{ text: 'üî•–•–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å!üî•', callback_data: 'button2' }]
                ]
            }
        };

        bot.editMessageText(text, { chat_id: chatId, message_id: callbackQuery.message.message_id, reply_markup: options.reply_markup });
    } else if (callbackQuery.data === 'button2') {
        const text = `–û—Ç–ª–∏—á–Ω–æ, —Ç–µ–ø–µ—Ä—å –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –Ω–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å:
https://reg.eda.yandex.ru/?advertisement_campaign=forms_for_agents&user_invite_code=1fb4bc287cf2486085c6ff3964eb7b21&utm_content=blank.
–í–æ–∑–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏? –ó–∞–¥–∞–π –µ–≥–æ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É - @Eda_yandex_partners`;

        bot.editMessageText(text, { chat_id: chatId, message_id: callbackQuery.message.message_id });
    }
});

